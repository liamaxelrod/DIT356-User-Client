{"remainingRequest":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/carlottahillger/Documents/University/Web Development/user-client/Client/src/views/SignIn.vue?vue&type=style&index=0&id=98b06508&scoped=true&lang=css&","dependencies":[{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/src/views/SignIn.vue","mtime":1672840626440},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1672409555112},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1672409555112}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbnRhaW5lciB7CiAgcGFkZGluZy10b3A6IDIwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CmgyIHsKICBmb250LXNpemU6IDE4cHg7CiAgY29sb3I6IHJnYig5NiwgOTYsIDk2KTsKICBmb250LXdlaWdodDogbm9ybWFsOwp9Ci5pbnB1dCB7CiAgd2lkdGg6IDUwMHB4OwogIGhlaWdodDogNTBweDsKICBtYXJnaW46IDIwcHggYXV0bzsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjE0LCAyMTIsIDIxMik7CiAgY29sb3I6IGJsYWNrOwp9Ci5idXR0b24gewogIG1hcmdpbi10b3A6IDQwcHg7CiAgcGFkZGluZzogOHB4IDIwcHg7Cn0KCi5yb3cgewogIHdpZHRoOiA1MDBweDsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5OwogIG1hcmdpbjogNTBweCBhdXRvOwp9Ci5yb3cgYSB7CiAgY29sb3I6ICM1ODU2NTY7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9Cg=="},{"version":3,"sources":["SignIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"container\">\n      <img src=\"@/assets/Logo.png\" alt=\"logo\" width=\"50%\" />\n      <h2>Account Signin</h2>\n      <b-form-input\n        class=\"input\"\n        v-model=\"Email\"\n        placeholder=\"Email\"\n      ></b-form-input>\n        <b-form-input\n        class=\"input\"\n        v-model=\"Password\"\n        placeholder=\"Password\"\n        type=\"password\">\n    </b-form-input>\n      <b-button class=\"button\" variant=\"primary\" @click=\"login\">Sign In</b-button>\n      <div class=\"row\">\n        <a @click=\"forgotPassword\">Forgot password</a>\n        <a @click=\"switchToSignUp\">Register New Account</a>\n      </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'sign-in',\n  props: {\n    message: Object\n  },\n  data() {\n    return {\n      Email: '',\n      Password: '',\n      subTopic: '',\n      subTopicError: ''\n    }\n  },\n  methods: {\n    login() {\n      // generate request id and subscribe to topic\n      // const requestId = Math.floor(Math.random() * 10000000)\n      const requestId = 1000\n      this.subTopic = `dentistimo/login/user/${requestId}`\n      this.$parent.doSubscribe(this.subTopic)\n      this.subTopicError = `dentistimo/login/error/${requestId}`\n      this.$parent.doSubscribe(this.subTopic)\n      // publish message\n      const pubTopic = 'dentistimo/login/user'\n      const payload = `{\"password\": \"${this.Password}\", \"email\": \"${this.Email}\", \"requestId\": \"${requestId}\"}`\n      this.$parent.doPublish(pubTopic, payload)\n    },\n    switchToSignUp() {\n      if (this.subTopic !== '') {\n        this.$parent.doUnSubscribe(this.subTopic)\n      }\n      if (this.subTopicError !== '') {\n        this.$parent.doUnSubscribe(this.subTopicError)\n      }\n      this.$router.push('/sign-up')\n    },\n    forgotPassword() {\n      if (this.subTopic !== '') {\n        this.$parent.doUnSubscribe(this.subTopic)\n      }\n      if (this.subTopicError !== '') {\n        this.$parent.doUnSubscribe(this.subTopicError)\n      }\n      this.$router.push('/forgot-password')\n    }\n  },\n  watch: {\n    message: function (newVal, oldVal) {\n      if (this.message.topic === this.subTopic) {\n        // set the user variable in App.vue to the message reveived\n        localStorage.setItem('token', JSON.stringify(this.message.msg))\n        this.$parent.doUnSubscribe(this.subTopic)\n        this.$parent.doUnSubscribe(this.subTopicError)\n        this.$parent.login()\n      }\n      if (this.message.topic === this.subTopicError) {\n        // display error message to user\n        window.confirm(this.message.msg)\n        this.$parent.doUnSubscribe(this.subTopic)\n        this.$parent.doUnSubscribe(this.subTopicError)\n        this.subTopic = ''\n        this.subTopicError = ''\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .container {\n    padding-top: 20px;\n    text-align: center;\n  }\n  h2 {\n    font-size: 18px;\n    color: rgb(96, 96, 96);\n    font-weight: normal;\n  }\n  .input {\n    width: 500px;\n    height: 50px;\n    margin: 20px auto;\n    background-color: rgb(214, 212, 212);\n    color: black;\n  }\n  .button {\n    margin-top: 40px;\n    padding: 8px 20px;\n  }\n\n  .row {\n    width: 500px;\n    display: flex;\n    justify-content: space-evenly;\n    margin: 50px auto;\n  }\n  .row a {\n    color: #585656;\n    font-style: italic;\n  }\n</style>\n"]}]}