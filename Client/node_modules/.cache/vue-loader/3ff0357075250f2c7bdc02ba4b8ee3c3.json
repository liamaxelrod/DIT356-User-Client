{"remainingRequest":"C:\\Users\\Juan\\Documents\\GitHub\\group-05-web\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Juan\\Documents\\GitHub\\group-05-web\\client\\src\\views\\Exercise.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Juan\\Documents\\GitHub\\group-05-web\\client\\src\\views\\Exercise.vue","mtime":1665841216492},{"path":"C:\\Users\\Juan\\Documents\\GitHub\\group-05-web\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664724729110},{"path":"C:\\Users\\Juan\\Documents\\GitHub\\group-05-web\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1664724727679}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBBcGkgfSBmcm9tICdAL0FwaScNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnZXhlcmNpc2UnLA0KICBwcm9wczogew0KICAgIHVzZXI6IFN0cmluZw0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBleGVyY2lzZUluZm86IHsNCiAgICAgICAgTmFtZTogJycsDQogICAgICAgIF9pZDogJycsDQogICAgICAgIERpZmZpY3VsdHlTY29yZTogMCwNCiAgICAgICAgUmV2aWV3czogW10sDQogICAgICAgIE11c2NsZXM6IFtdLA0KICAgICAgICBUaXBzQW5kVHJpY2tzOiAnJw0KICAgICAgfSwNCiAgICAgIHJldmlldzogew0KICAgICAgICBUaXRsZTogJycsDQogICAgICAgIFJhdGluZzogbnVsbCwNCiAgICAgICAgTWFpblRleHQ6ICcnLA0KICAgICAgICBBdXRob3I6ICcnLA0KICAgICAgICBFeGVyY2lzZTogJycNCiAgICAgIH0sDQogICAgICByZXZpZXdJZHM6IFtdLA0KICAgICAgY29tcGxldGVSZXZpZXdzOiBbXSwNCiAgICAgIHJldmlld0NvdW50OiAwLA0KDQogICAgICBtdXNjbGVJZHM6IFtdLA0KICAgICAgY29tcGxldGVNdXNjbGVzOiBbXSwNCiAgICAgIG11c2NsZUNvdW50OiAwLA0KICAgICAgbWVzc2FnZTogJycNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgY29uc3QgZXhlcmNpc2VJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZA0KICAgIEFwaS5nZXQoYC9leGVyY2lzZXMvJHtleGVyY2lzZUlkfWApDQogICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuZXhlcmNpc2VJbmZvID0gcmVzcG9uc2UuZGF0YS5FeGVyY2lzZQ0KICAgICAgfSkNCiAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpDQogICAgICAgIHRoaXMuZXhlcmNpc2VJbmZvID0gbnVsbA0KICAgICAgICAvLyBUTyBETzogc2VuZCBhIGVycm9yIG1lc3NhZ2UNCiAgICAgIH0pDQogICAgICAudGhlbigoKSA9PiB7DQoNCiAgICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjcmVhdGVSZXZpZXcoKSB7DQogICAgICBpZiAodGhpcy5yZXZpZXcuVGl0bGUgPT09ICcnKSB7DQogICAgICAgIHRoaXMuJGJ2TW9kYWwubXNnQm94T2soJ1RpdGxlIGZpZWxkIGNhbm5vdCBiZSBlbXB0eScpDQogICAgICB9IGVsc2UgaWYgKHRoaXMucmV2aWV3Lk1haW5UZXh0ID09PSAnJykgew0KICAgICAgICB0aGlzLiRidk1vZGFsLm1zZ0JveE9rKCdEZXNjcmlwdGlvbiBmaWVsZCBjYW5ub3QgYmUgZW1wdHknKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc3QgdXNlcklkID0gdGhpcy51c2VyDQogICAgICAgIGNvbnN0IGV4ZXJjaXNlSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQNCiAgICAgICAgQXBpLnBvc3QoYHVzZXJzLyR7dXNlcklkfS9leGVyY2lzZXMvJHtleGVyY2lzZUlkfS9yZXZpZXdzYCwgdGhpcy5yZXZpZXcpDQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpDQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigNCiAgICAgICAgICAgIHRoaXMuJGJ2TW9kYWwubXNnQm94T2soJ1JldmlldyBzdWNjZXNzZnVsbHkgdXBkYXRlZCcpDQogICAgICAgICAgICAvLyBUTyBETzogc2VuZCBhIGVycm9yIG1lc3NhZw0KICAgICAgICAgICkNCiAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpDQogICAgICB9DQogICAgfSwNCiAgICBzaG93UmV2aWV3KCkgew0KICAgICAgdGhpcy5yZXZpZXdDb3VudCArPSAxDQogICAgICBpZiAodGhpcy5yZXZpZXdDb3VudCA8IDIpIHsNCiAgICAgICAgdGhpcy5yZXZpZXdJZHMgPSB0aGlzLmV4ZXJjaXNlSW5mby5SZXZpZXdzDQogICAgICAgIHRoaXMucmV2aWV3SWRzLmZvckVhY2godGhpcy5mZXRjaFJldmlld0RhdGEpDQogICAgICB9DQogICAgfSwNCiAgICBmZXRjaFJldmlld0RhdGEoaW5kZXgpIHsNCiAgICAgIEFwaS5nZXQoJy9yZXZpZXdzLycgKyBpbmRleCkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHRoaXMuY29tcGxldGVSZXZpZXdzLnB1c2gocmVzcG9uc2UuZGF0YSkNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgc2hvd011c2NsZSgpIHsNCiAgICAgIHRoaXMubXVzY2xlQ291bnQgKz0gMQ0KICAgICAgaWYgKHRoaXMubXVzY2xlQ291bnQgPCAyKSB7DQogICAgICAgIHRoaXMubXVzY2xlSWRzID0gdGhpcy5leGVyY2lzZUluZm8uTXVzY2xlcw0KICAgICAgICB0aGlzLm11c2NsZUlkcy5mb3JFYWNoKHRoaXMuZmV0Y2hNdXNjbGVEYXRhKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZmV0Y2hNdXNjbGVEYXRhKGluZGV4KSB7DQogICAgICBBcGkuZ2V0KCcvbXVzY2xlcy8nICsgaW5kZXgpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICB0aGlzLmNvbXBsZXRlTXVzY2xlcy5wdXNoKHJlc3BvbnNlLmRhdGEpDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YSkNCiAgICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Exercise.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Exercise.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n      <b-jumbotron header=\"Exercise page\" lead=\"All about the exercise\"></b-jumbotron>\r\n        <div class=\"accordion\" role=\"tablist\">\r\n          <b-card no-body class=\"mb-1\">\r\n            <b-card-body>\r\n              <div id='exercise'>\r\n                  <h3>{{exerciseInfo.Name}}</h3>\r\n                  <p><strong>Difficulty Score: </strong>{{exerciseInfo.DifficultyScore}}</p>\r\n                  <p><strong>Tips and Tricks: </strong>{{exerciseInfo.TipsAndTricks}}</p>\r\n              </div>\r\n            </b-card-body>\r\n          </b-card>\r\n\r\n          <b-card no-body class=\"mb-1\">\r\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n              <b-button block v-b-toggle.accordion-2 variant=\"light\">Read Tips and Tricks <b-icon icon=\"caret-down-fill\" aria-hidden=\"true\"></b-icon></b-button>\r\n            </b-card-header>\r\n            <b-collapse id=\"accordion-2\" accordion=\"my-accordion\" role=\"tabpanel\">\r\n              <b-card-body>\r\n                <b-card-text>{{exerciseInfo.TipsAndTricks}}</b-card-text>\r\n              </b-card-body>\r\n            </b-collapse>\r\n          </b-card>\r\n\r\n          <b-card no-body class=\"mb-1\">\r\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n              <b-button block v-b-toggle.accordion-3 variant=\"light\" v-on:click=\"showMuscle()\">See Connected Muscles <b-icon icon=\"caret-down-fill\" aria-hidden=\"true\"></b-icon></b-button>\r\n            </b-card-header>\r\n            <b-collapse id=\"accordion-3\" accordion=\"my-accordion\" role=\"tabpanel\">\r\n              <b-card-body>\r\n                <b-card-text>\r\n                  <div>\r\n                    <div v-for=\"muscle in completeMuscles\" v-bind:key=\"muscle._id\">\r\n                      <h4><strong>{{muscle.Name}} </strong></h4>\r\n                      <em>({{muscle.LatinName}})</em>\r\n                      <p>{{muscle.Description}}</p>\r\n                      <hr>\r\n                    </div>\r\n                  </div>\r\n                </b-card-text>\r\n              </b-card-body>\r\n            </b-collapse>\r\n          </b-card>\r\n\r\n          <b-card no-body class=\"mb-1\">\r\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n              <b-button block v-b-toggle.accordion-4 variant=\"light\" v-on:click=\"showReview()\">Read Reviews <b-icon icon=\"caret-down-fill\" aria-hidden=\"true\"></b-icon></b-button>\r\n            </b-card-header>\r\n            <b-collapse id=\"accordion-4\" accordion=\"my-accordion\" role=\"tabpanel\">\r\n              <b-card-body>\r\n                <b-card-text>\r\n                  <div>\r\n                    <div v-for=\"review in completeReviews\" v-bind:key=\"review._id\">\r\n                      <h4><strong>{{review.Title}}</strong></h4>\r\n                      <p>(Rating: {{review.Rating}} of 5)</p>\r\n                      <p>{{review.MainText}}</p>\r\n                      <hr>\r\n                    </div>\r\n                  </div>\r\n                </b-card-text>\r\n              </b-card-body>\r\n            </b-collapse>\r\n          </b-card>\r\n\r\n          <b-card no-body class=\"mb-1\">\r\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n              <b-button block v-b-toggle.accordion-5 variant=\"light\" >Leave a Review<b-icon icon=\"caret-down-fill\" aria-hidden=\"true\"></b-icon></b-button>\r\n            </b-card-header>\r\n            <b-collapse id=\"accordion-5\" accordion=\"my-accordion\" role=\"tabpanel\">\r\n              <b-card-body>\r\n                <b-card-text>\r\n                  <div>\r\n                    <form @submit.prevent=\"createReview\" method=\"POST\">\r\n                        <div>\r\n                          <p><strong>Title *</strong></p>\r\n                          <input type=\"text\" id=\"title\" v-model=\"review.Title\"> <br/>\r\n                        </div>\r\n                        <div>\r\n                          <p><strong>Description *</strong></p>\r\n                          <input type=\"text\" id=\"description\" v-model=\"review.MainText\"> <br/>\r\n                        </div>\r\n                        <div>\r\n                          <p><strong>Rating</strong></p>\r\n                          <select id=\"rating\" placeholder=\"Select rating (1-5) (optional)\" v-model=\"review.Rating\">\r\n                            <option value=\"1\">1 (Very bad)</option>\r\n                            <option value=\"2\">2 (Bad)</option>\r\n                            <option value=\"3\">3 (Moderate)</option>\r\n                            <option value=\"4\">4 (Good)</option>\r\n                            <option value=\"5\">5 (Very Good)</option>\r\n                          </select>\r\n                        </div>\r\n                        <em>* Necessary fields</em>\r\n                        <p style=\"color:red\">{{message}}</p>\r\n                      </form>\r\n                      <b-button variant=\"primary\" v-on:click=\"createReview()\">Send</b-button>\r\n                  </div>\r\n                </b-card-text>\r\n              </b-card-body>\r\n            </b-collapse>\r\n          </b-card>\r\n        </div>\r\n      </div>\r\n</template>\r\n\r\n<script>\r\nimport { Api } from '@/Api'\r\n\r\nexport default {\r\n  name: 'exercise',\r\n  props: {\r\n    user: String\r\n  },\r\n  data() {\r\n    return {\r\n      exerciseInfo: {\r\n        Name: '',\r\n        _id: '',\r\n        DifficultyScore: 0,\r\n        Reviews: [],\r\n        Muscles: [],\r\n        TipsAndTricks: ''\r\n      },\r\n      review: {\r\n        Title: '',\r\n        Rating: null,\r\n        MainText: '',\r\n        Author: '',\r\n        Exercise: ''\r\n      },\r\n      reviewIds: [],\r\n      completeReviews: [],\r\n      reviewCount: 0,\r\n\r\n      muscleIds: [],\r\n      completeMuscles: [],\r\n      muscleCount: 0,\r\n      message: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    const exerciseId = this.$route.params.id\r\n    Api.get(`/exercises/${exerciseId}`)\r\n      .then(response => {\r\n        this.exerciseInfo = response.data.Exercise\r\n      })\r\n      .catch(error => {\r\n        console.error(error)\r\n        this.exerciseInfo = null\r\n        // TO DO: send a error message\r\n      })\r\n      .then(() => {\r\n\r\n      })\r\n  },\r\n  methods: {\r\n    createReview() {\r\n      if (this.review.Title === '') {\r\n        this.$bvModal.msgBoxOk('Title field cannot be empty')\r\n      } else if (this.review.MainText === '') {\r\n        this.$bvModal.msgBoxOk('Description field cannot be empty')\r\n      } else {\r\n        const userId = this.user\r\n        const exerciseId = this.$route.params.id\r\n        Api.post(`users/${userId}/exercises/${exerciseId}/reviews`, this.review)\r\n          .then(response => {\r\n            console.log(response)\r\n          })\r\n          .catch(error => {\r\n            console.log(error.response)\r\n          })\r\n          .then(\r\n            this.$bvModal.msgBoxOk('Review successfully updated')\r\n            // TO DO: send a error messag\r\n          )\r\n        // window.location.reload()\r\n      }\r\n    },\r\n    showReview() {\r\n      this.reviewCount += 1\r\n      if (this.reviewCount < 2) {\r\n        this.reviewIds = this.exerciseInfo.Reviews\r\n        this.reviewIds.forEach(this.fetchReviewData)\r\n      }\r\n    },\r\n    fetchReviewData(index) {\r\n      Api.get('/reviews/' + index)\r\n        .then(response => {\r\n          this.completeReviews.push(response.data)\r\n        })\r\n        .catch(error => {\r\n          console.log(error.response.data)\r\n        })\r\n    },\r\n    showMuscle() {\r\n      this.muscleCount += 1\r\n      if (this.muscleCount < 2) {\r\n        this.muscleIds = this.exerciseInfo.Muscles\r\n        this.muscleIds.forEach(this.fetchMuscleData)\r\n      }\r\n    },\r\n    fetchMuscleData(index) {\r\n      Api.get('/muscles/' + index)\r\n        .then(response => {\r\n          this.completeMuscles.push(response.data)\r\n        })\r\n        .catch(error => {\r\n          console.log(error.response.data)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ninput {\r\n  margin-bottom: 20px;\r\n}\r\nselect {\r\n  margin-bottom: 20px;\r\n}\r\nbutton {\r\n  margin-top: 15px;\r\n}\r\n</style>\r\n"]}]}