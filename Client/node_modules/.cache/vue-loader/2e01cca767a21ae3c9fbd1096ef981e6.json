{"remainingRequest":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/carlottahillger/Documents/University/Web Development/user-client/Client/src/views/ModifyPassword.vue?vue&type=style&index=0&id=76a34baf&scoped=true&lang=css&","dependencies":[{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/src/views/ModifyPassword.vue","mtime":1672838451769},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1672409555112},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1672409555112}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29udGFpbmVyIHsKICBwYWRkaW5nLXRvcDogMjBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KaDIgewogIGZvbnQtc2l6ZTogMThweDsKICBjb2xvcjogcmdiKDk2LCA5NiwgOTYpOwogIGZvbnQtd2VpZ2h0OiBub3JtYWw7Cn0KLmlucHV0LWdyb3VwIHsKICB3aWR0aDogNTAwcHg7CiAgbWFyZ2luOiAyMHB4IGF1dG87Cn0KLmlucHV0LWdyb3VwIC5pbnB1dCB7CiAgbWFyZ2luOiAwOwp9Ci5pbnB1dCB7CiAgd2lkdGg6IDUwMHB4OwogIGhlaWdodDogNTBweDsKICBtYXJnaW46IDIwcHggYXV0bzsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjE0LCAyMTIsIDIxMik7CiAgY29sb3I6IGJsYWNrOwp9Ci5zZW5kX2J0biB7CiAgcGFkZGluZzogMCAyMHB4Owp9Ci5idXR0b24gewogIG1hcmdpbi10b3A6IDQwcHg7CiAgcGFkZGluZzogOHB4IDIwcHg7Cn0K"},{"version":3,"sources":["ModifyPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ModifyPassword.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"container\">\n      <img src=\"@/assets/Logo.png\" alt=\"logo\" width=\"50%\" />\n      <h2>Forgot Password</h2>\n      <b-input-group class=\"input-group\">\n        <b-form-input\n          class=\"input\"\n          v-model=\"Email\"\n          placeholder=\"Email\"\n        ></b-form-input>\n        <b-input-group-append>\n          <b-button variant=\"primary\" class=\"send_btn\" @click=\"sendMail\"\n            >send</b-button\n          >\n        </b-input-group-append>\n      </b-input-group>\n      <b-form-input\n        class=\"input\"\n        v-model=\"Code\"\n        placeholder=\"code\"\n        type=\"text\"\n      ></b-form-input>\n      <b-form-input\n        class=\"input\"\n        v-model=\"Password\"\n        placeholder=\"new Password\"\n        type=\"password\"\n      ></b-form-input>\n      <b-form-input\n        class=\"input\"\n        v-model=\"PasswordCheck\"\n        placeholder=\"passwordCheck\"\n        type=\"password\"\n      ></b-form-input>\n      <b-button class=\"button\" variant=\"primary\" @click=\"submit\">Submit</b-button>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'forgot-password',\n  props: {\n    message: Object\n  },\n  data() {\n    return {\n      Email: '',\n      Password: '',\n      PasswordCheck: '',\n      subTopicMail: '',\n      subTopic: '',\n      subTopicError: '',\n      Code: ''\n    }\n  },\n  methods: {\n    sendMail() {\n      // generate request id and subscribe to topic\n      const requestId = Math.floor(Math.random() * 10000000)\n      this.subTopicMail = `dentistimo/send-email-code/${requestId}`\n      this.$parent.doSubscribe(this.subTopicMail)\n      // publish message\n      const pubTopic = 'dentistimo/send-email-code'\n      const payload = `{\"email\": \"${this.Email}\", \"requestId\": \"${requestId}\"}`\n      this.$parent.doPublish(pubTopic, payload)\n    },\n    submit() {\n      // TODO: change topic names to the correct ones\n      // generate request id and subscribe to topic\n      const requestId = Math.floor(Math.random() * 10000000)\n      this.subTopic = `dentistimo/reset-password/user/${requestId}`\n      this.$parent.doSubscribe(this.subTopic)\n      this.subTopicError = `dentistimo/reset-password/error/${requestId}`\n      this.$parent.doSubscribe(this.subTopic)\n      // publish message\n      const pubTopic = 'dentistimo/reset-password/user'\n      const payload = `{\"newPassword\": \"${this.Password}\", \"passwordCheck\": \"${this.PasswordCheck}\", \"userCode\": \"${this.Code}\", \"email\": \"${this.Email}\", \"requestId\": \"${requestId}\"}`\n      this.$parent.doPublish(pubTopic, payload)\n    }\n  },\n  watch: {\n    message: function (newVal, oldVal) {\n      if (this.message.topic === this.subTopic) {\n        window.confirm(this.message.msg.status)\n        this.$parent.doUnSubscribe(this.subTopic)\n        this.$parent.doUnSubscribe(this.subTopicMail)\n        this.$parent.doUnSubscribe(this.subTopicError)\n        this.$router.push('/sign-in')\n      }\n      if (this.message.topic === this.subTopicMail) {\n        window.confirm(this.message.msg)\n      }\n      if (this.message.topic === this.subTopicError) {\n        this.$bvModal.msgBoxOk(this.message.msg)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  padding-top: 20px;\n  text-align: center;\n}\nh2 {\n  font-size: 18px;\n  color: rgb(96, 96, 96);\n  font-weight: normal;\n}\n.input-group {\n  width: 500px;\n  margin: 20px auto;\n}\n.input-group .input {\n  margin: 0;\n}\n.input {\n  width: 500px;\n  height: 50px;\n  margin: 20px auto;\n  background-color: rgb(214, 212, 212);\n  color: black;\n}\n.send_btn {\n  padding: 0 20px;\n}\n.button {\n  margin-top: 40px;\n  padding: 8px 20px;\n}\n</style>\n"]}]}