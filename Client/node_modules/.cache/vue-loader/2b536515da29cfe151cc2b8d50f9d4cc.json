{"remainingRequest":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/carlottahillger/Documents/University/Web Development/user-client/Client/src/views/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/src/views/SignUp.vue","mtime":1672840586047},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/carlottahillger/Documents/University/Web Development/user-client/Client/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1672409555112}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2lnbi11cCcsCiAgcHJvcHM6IHsKICAgIG1lc3NhZ2U6IE9iamVjdAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIEZpcnN0TmFtZTogJycsCiAgICAgIExhc3ROYW1lOiAnJywKICAgICAgRW1haWw6ICcnLAogICAgICBQYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkQ2hlY2s6ICcnLAogICAgICBzdWJUb3BpYzogJycsCiAgICAgIHN1YlRvcGljRXJyb3I6ICcnCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaWduVXAoKSB7CiAgICAgIC8vIHN1YnNjcmliZSB0byB0b3BpYyB3aXRoIGdlbmVyYXRlZCByZXF1ZXN0IGlkCiAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKQogICAgICB0aGlzLnN1YlRvcGljID0gYGRlbnRpc3RpbW8vcmVnaXN0ZXIvdXNlci8ke3JlcXVlc3RJZH1gCiAgICAgIHRoaXMuc3ViVG9waWNFcnJvciA9IGBkZW50aXN0aW1vL3JlZ2lzdGVyL2Vycm9yLyR7cmVxdWVzdElkfWAKICAgICAgdGhpcy4kcGFyZW50LmRvU3Vic2NyaWJlKHRoaXMuc3ViVG9waWMpCiAgICAgIHRoaXMuJHBhcmVudC5kb1N1YnNjcmliZSh0aGlzLnN1YlRvcGljRXJyb3IpCiAgICAgIC8vIHB1Ymxpc2ggbWVzc2FnZSB0byB0b3BpYwogICAgICBjb25zdCBwdWJUb3BpYyA9ICdkZW50aXN0aW1vL3JlZ2lzdGVyL3VzZXInCiAgICAgIGNvbnN0IHBheWxvYWQgPSBgeyJwYXNzd29yZCI6ICIke3RoaXMuUGFzc3dvcmR9IiwgInBhc3N3b3JkQ2hlY2siOiAiJHt0aGlzLnBhc3N3b3JkQ2hlY2t9IiwgImVtYWlsIjogIiR7dGhpcy5FbWFpbH0iLCAicmVxdWVzdElkIjogIiR7cmVxdWVzdElkfSIsICJmaXJzdE5hbWUiOiAiJHt0aGlzLkZpcnN0TmFtZX0iLCAibGFzdE5hbWUiOiAiJHt0aGlzLkxhc3ROYW1lfSJ9YAogICAgICB0aGlzLiRwYXJlbnQuZG9QdWJsaXNoKHB1YlRvcGljLCBwYXlsb2FkKQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAodGhpcy5tZXNzYWdlLnRvcGljID09PSB0aGlzLnN1YlRvcGljKSB7CiAgICAgICAgLy8gU2V0IHVzZXIgdmFyaWFibGUgaW4gQXBwLnZ1ZQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIEpTT04uc3RyaW5naWZ5KHRoaXMubWVzc2FnZS5tc2cpKQogICAgICAgIHRoaXMuJHBhcmVudC5kb1VuU3Vic2NyaWJlKHRoaXMuc3ViVG9waWMpCiAgICAgICAgdGhpcy4kcGFyZW50LmRvVW5TdWJzY3JpYmUodGhpcy5zdWJUb3BpY0Vycm9yKQogICAgICAgIHRoaXMuJHBhcmVudC5sb2dpbigpCiAgICAgIH0KICAgICAgaWYgKHRoaXMubWVzc2FnZS50b3BpYyA9PT0gdGhpcy5zdWJUb3BpY0Vycm9yKSB7CiAgICAgICAgLy8gQWxlcnQgdXNlciBhYm91dCBlcnJvcgogICAgICAgIHdpbmRvdy5jb25maXJtKHRoaXMubWVzc2FnZS5tc2cpCiAgICAgICAgdGhpcy4kcGFyZW50LmRvVW5TdWJzY3JpYmUodGhpcy5zdWJUb3BpYykKICAgICAgICB0aGlzLiRwYXJlbnQuZG9VblN1YnNjcmliZSh0aGlzLnN1YlRvcGljRXJyb3IpCiAgICAgICAgdGhpcy5zdWJUb3BpYyA9ICcnCiAgICAgICAgdGhpcy5zdWJUb3BpY0Vycm9yID0gJycKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUp.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"container\">\n      <img src=\"@/assets/Logo.png\" alt=\"logo\" width=\"50%\" />\n      <h2>Account Signup</h2>\n      <b-form-input\n        class=\"input\"\n        v-model=\"FirstName\"\n        placeholder=\"First name\">\n      </b-form-input>\n      <b-form-input\n        class=\"input\"\n        v-model=\"LastName\"\n        placeholder=\"Last name\">\n      </b-form-input>\n      <b-form-input\n        class=\"input\"\n        v-model=\"Email\"\n        placeholder=\"Email\">\n      </b-form-input>\n      <b-form-input\n        class=\"input\"\n        v-model=\"Password\"\n        placeholder=\"Password\"\n        type=\"password\">\n      </b-form-input>\n      <b-form-input\n        class=\"input\"\n        v-model=\"passwordCheck\"\n        placeholder=\"passwordCheck\"\n        type=\"password\">\n      </b-form-input>\n      <b-button class=\"button\" variant=\"primary\" @click=\"signUp\">Sign Up</b-button>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'sign-up',\n  props: {\n    message: Object\n  },\n  data() {\n    return {\n      FirstName: '',\n      LastName: '',\n      Email: '',\n      Password: '',\n      passwordCheck: '',\n      subTopic: '',\n      subTopicError: ''\n    }\n  },\n  methods: {\n    signUp() {\n      // subscribe to topic with generated request id\n      const requestId = Math.floor(Math.random() * 10000000)\n      this.subTopic = `dentistimo/register/user/${requestId}`\n      this.subTopicError = `dentistimo/register/error/${requestId}`\n      this.$parent.doSubscribe(this.subTopic)\n      this.$parent.doSubscribe(this.subTopicError)\n      // publish message to topic\n      const pubTopic = 'dentistimo/register/user'\n      const payload = `{\"password\": \"${this.Password}\", \"passwordCheck\": \"${this.passwordCheck}\", \"email\": \"${this.Email}\", \"requestId\": \"${requestId}\", \"firstName\": \"${this.FirstName}\", \"lastName\": \"${this.LastName}\"}`\n      this.$parent.doPublish(pubTopic, payload)\n    }\n  },\n  watch: {\n    message: function (newVal, oldVal) {\n      if (this.message.topic === this.subTopic) {\n        // Set user variable in App.vue\n        localStorage.setItem('token', JSON.stringify(this.message.msg))\n        this.$parent.doUnSubscribe(this.subTopic)\n        this.$parent.doUnSubscribe(this.subTopicError)\n        this.$parent.login()\n      }\n      if (this.message.topic === this.subTopicError) {\n        // Alert user about error\n        window.confirm(this.message.msg)\n        this.$parent.doUnSubscribe(this.subTopic)\n        this.$parent.doUnSubscribe(this.subTopicError)\n        this.subTopic = ''\n        this.subTopicError = ''\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .container {\n    padding-top: 20px;\n    text-align: center;\n  }\n  h2 {\n    font-size: 18px;\n    color: rgb(96, 96, 96);\n    font-weight: normal;\n  }\n  .input {\n    width: 500px;\n    height: 50px;\n    margin: 20px auto;\n    background-color: rgb(214, 212, 212);\n    color: black;\n  }\n  .button {\n    margin-top: 40px;\n    padding: 8px 20px;\n  }\n</style>\n"]}]}